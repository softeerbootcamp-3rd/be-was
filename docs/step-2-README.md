# java-was-2023

Java Web Application Server 2023

## 프로젝트 정보 

이 프로젝트는 우아한 테크코스 박재성님의 허가를 받아 https://github.com/woowacourse/jwp-was 
를 참고하여 작성되었습니다.

## 1. 학습 목표 
- HTTP GET 프로토콜을 이해한다.
- HTTP GET에서 parameter를 전달하고 처리하는 방법을 학습한다.
- HTTP 클라이언트에서 전달받은 값을 서버에서 처리하는 방법을 학습한다.

---

## 2. 기능 요구사항
1. GET으로 회원가입 기능 구현: “회원가입” 메뉴를 클릭하면 http://localhost:8080/user/form.html 으로 이동, 회원가입 폼을 표시한다.<Br>
이 폼을 통해서 회원가입을 할 수 있다.

---

## 3. 학습 내용 👨🏻‍💻

##### 1.Status 200 VS 302
- Status 200: 클라이언트가 요청한 데이터를 정상적으로 전달하였다는 의미
  >- 동작 과정
  >1. 서버에서는 클라이언트에게 200 상태코드와 함께 응답 데이터를 전송한다.
  >2. 클라이언트는 응답 데이터를 받게 되면 브라우저에 응답 데이터를 렌더링한다. <br>
  이때 브라우저의 주소창은 요청한 URL로 유지된다.
- Status 302: 클라이언트가 요청한 데이터를 다른 URL로 재요청하라는 의미 (리다이렉션)
  >- 동작 과정
  >1. 서버에서는 클라이언트에게 302 상태코드와 함께 이동할 URL을 Response Header에 Location 헤더에 담아서 전송한다.
  >2. 클라이언트는 리다이렉션 응답을 받게 되면 Location에 포함된 URL로 재요청을 보내게 된다. <br>
  이때 브라우저의 주소창은 새 URL로 바뀌게 된다.
  
##### 2. static 키워드 사용
- 인스턴스 생성 없이 호출이 가능하다. 
  >- 인스턴스를 생성하지 않고 호출이 가능하다는 것은 static 키워드가 붙은 메소드나 변수는 클래스가 로딩될 때, JVM 영역의 Method Area에 생성된다.
  >- 인스턴스 변수는 하나의 클래스로부터 생성되었더라도 각기 다른 값을 유지하지만, static 변수는 인스턴스에 관계없이 같은 값을 갖는다.
- 유틸리티 관련 함수를 만드는데 유용하게 사용된다.
  >- 유틸리티 관련 함수들은 여러 군데에서 여러 번 사용되므로 static 메소드로 구현을 하는 것이 적합
- 메모리
  >- new 연산을 통해 생성된 인스턴스는 Heap 영역에 할당되고, 해당 Heap영역은 Garbage Collector에 의해 관리된다.
  >- static 키워드가 붙은 메소드나 변수는 Method Area에 할당되고, 해당 Method Area는 JVM이 종료될 때까지 메모리에 남아있다. <br>
  따라서, 과도한 static 키워드 사용은 메모리 누수로 이어질 수 있다.
- Static 메서드 내에서의 인스턴스 멤버 사용 불가 
  >- 정적 메서드 내부에서는 직접적으로 인스턴스 멤버(인스턴스 필드, 인스턴스 메서드)를 사용할 수 없다. <br>
  정적 메서드가 클래스 수준에서 호출되기 때문에 어떤 인스턴스의 상태에 의존하지 않아야 하기 때문이다.


##### 3. Singleton Pattern
- 인스턴스를 불필요하게 생성하지 않고 오직 JVM내에서 한 개의 인스턴스만 생성하여 재사용을 위해 사용되는 디자인패턴
    >- 생성자를 private으로 선언하여 외부에서 인스턴스를 생성하지 못하도록 한다.
    >- static 메소드를 통해 인스턴스가 생성되어 있지 않으면 인스턴스를 생성하고, 생성되어 있으면 생성된 인스턴스를 반환한다.
    >- 인스턴스가 한 개만 생성되어야 하므로 static 키워드를 사용하여 인스턴스를 저장할 수 있는 변수를 선언한다.
- Volatile: 멀티스레드 환경에서 Thread-safe를 보장하기 위해 사용
  >- 가시성 보장: volatile 변수의 값을 읽거나 쓸 때 메인 메모리에서 직접 읽거나 쓰기 때문에 다른 스레드에서의 변경 사항을 즉시 반영한다.
  >- 원자성 보장: volatile 변수는 일부 원자적인 연산(단일 read 또는 write)을 보장한다.


##### 4. Junit5 & AssertJ
- given/when/then 패턴 사용
  >- given(준비): 어떠한 데이터가 준비되었을 때
  >- when(실행): 어떠한 함수를 실행하면
  >- then(검증): 어떠한 결과가 나와야 한다.

- JUnit 5
  >- 자바 단위 테스트 프레임워크
  >- `@Test`, `@BeforeAll`, `@AfterAll`, `@BeforeEach`, `@AfterEach` 등의 애너테이션을 제공

- AssertJ
  >- 자바 단언 라이브러리.
  >- 풍부한 단언 메서드와 체이닝을 통해 테스트 코드를 가독성 있게 작성할 수 있다.

- @ParameterizedTest: 하나의 테스트 메소드로 여러 개의 파라미터에 대해서 테스트할 수 있다.
  >- 여러개의 인수를 제공하는 방법으로 @MethodSource와 함께 사용된다.
  >- @MethodSource의 value에는 메소드명을 넣는다.


---

## 4. Trouble Shooting 🚀
- 회원가입 버튼 클릭 시, URI가 /index.html 로 변경되지 않고 /user 로 유지되는 문제가 발생했다.
  >- 원인 1: 회원가입 버튼에는 href 속성이 없었다.
  >- 원인 2: href 속성이 없음에도 불구하고, Status Code 200을 반환함과 동시에 /index.html를 경로에서 찾아서 응답을 보내려고 했다.
  >- 결과: 회원가입 버튼 클릭 시, index.html 파일에 대한 응답은 정상적으로 이루어졌지만, URI가 /index.html로 변경되지 않았다.
  >- **해결**: 회원가입 버튼 클릭 시, /index.html로 redirect 되도록 수정한다.<br>
  이를 위해서 302 Status Code 반환과 함께 Response Header Location 헤더에 /index.html을 담아서 전송한다.


---

## 5. 추가로 학습할 내용 👨🏻‍💻
- Status Code
  >- Status Code 종류
  >- Status Code에 따른 브라우저의 동작 차이
  >- 학습 내용 정리: https://velog.io/@taegon1998/HTTP-Status-Code
  >- 