# java-was-2023

Java Web Application Server 2023

## í”„ë¡œì íŠ¸ ì •ë³´ 

ì´ í”„ë¡œì íŠ¸ëŠ” ìš°ì•„í•œ í…Œí¬ì½”ìŠ¤ ë°•ì¬ì„±ë‹˜ì˜ í—ˆê°€ë¥¼ ë°›ì•„ https://github.com/woowacourse/jwp-was 
ë¥¼ ì°¸ê³ í•˜ì—¬ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.


# STEP1 - í•™ìŠµì¼ì§€

## ìë°” ìŠ¤ë ˆë“œ ëª¨ë¸

- ìë°” í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•˜ë©´ JVM í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰ â†’ JVM í”„ë¡œì„¸ìŠ¤ ì•ˆì—ì„œ GC ë¥¼ í¬í•¨í•œ ì—¬ëŸ¬ê°œì˜ ìŠ¤ë ˆë“œ ì‹¤í–‰
    ![Untitled.png](images%2FUntitled.png)
    - ê° ìŠ¤ë ˆë“œë§ˆë‹¤ Java Stack, PC Register, Native Method Stack ì´ ì¡´ì¬
    - ìë°”ëŠ” ë™ì¼í•œ ë©”ëª¨ë¦¬ë¥¼ ì½ì§€ë§Œ ê°ê° ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ìŠ¤ë ˆë“œë“¤, ì¦‰ ë©€í‹° ìŠ¤ë ˆë“œë¥¼ í†µí•´ ë™ì‹œì— ì—¬ëŸ¬ ì‘ì—…ì„ ìˆ˜í–‰
    - [JVM ì˜ ë©”ëª¨ë¦¬ ì‚¬ìš© ë°©ì‹](https://kotlinworld.com/3?category=914495)

<aside>
ğŸ”¥ ì™œ í”„ë¡œì„¸ìŠ¤ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ìŠ¤ë ˆë“œë¼ëŠ” ê°œë…ì„ ì¶”ê°€í–ˆì„ê¹Œ?

- í”„ë¡œì„¸ìŠ¤ëŠ” ë§ì€ ì‹œê°„ê³¼ ìì›ì´ ë“œëŠ” ë¹„ì‹¼ ì¹œêµ¬!
- JVM ì€ ë²¤ë”ë§ˆë‹¤ ë‹¤ë¥´ì§€ë§Œ ìµœì†Œ 32MB ì´ìƒì˜ ë©”ëª¨ë¦¬ê°€ í•„ìš”
- ìŠ¤ë ˆë“œëŠ” 1MB ì´ë‚´ì˜ ë©”ëª¨ë¦¬ë¥¼ ì ìœ í•˜ë¯€ë¡œ ìŠ¤ë ˆë“œë¥¼ ê²½ëŸ‰ í”„ë¡œì„¸ìŠ¤ë¼ê³  ì¹­í•¨
</aside>

### Multi Threading Model

ìŠ¤ë ˆë“œëŠ” User Level Threads(ULT)ì™€ Kernel Level Threads(KLT) 2ê°€ì§€ ìœ í˜•ì´ ìˆìŒ

- **ULT :** ì‚¬ìš©ì ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ ì‚¬ìš©ìê°€ ë§Œë“  ìŠ¤ë ˆë“œë¡œ, ìŠ¤ë ˆë“œê°€ ìƒì„±ëœ í”„ë¡œì„¸ìŠ¤ì´ ì£¼ì†Œ ê³µê°„ì—ì„œ í•´ë‹¹ í”„ë¡œì„¸ìŠ¤ì— ì˜í•´ ì‹¤í–‰ë˜ê³  ê´€ë¦¬ë¨
- **KLT :** ì»¤ë„ì— ì˜í•´ ìƒì„±ë˜ê³  OS ì— ì˜í•´ ì§ì ‘ ê´€ë¦¬ë¨. ULT ë³´ë‹¤ ìƒì„± ë° ê´€ë¦¬ ì†ë„ê°€ ëŠë¦¼

ë‘ ìœ í˜•ì˜ ì°¨ì´ëŠ” ëˆ„ê°€ ìŠ¤ë ˆë“œë¥¼ ì œì–´í•˜ëŠëƒì˜ ê´€ì ì„

ULT ëŠ” ìŠ¤ë ˆë“œê°€ ìƒì„±ëœ í”„ë¡œì„¸ìŠ¤ ìì²´ì— ì˜í•´ ì œì–´ë˜ê³ , KLT ëŠ” í”„ë¡œì„¸ìŠ¤ ë‚´ì˜ ì‚¬ìš©ì ìŠ¤ë ˆë“œì— ëŒ€í•´ ì•Œì§€ ëª»í•˜ê³  OS ì— ì˜í•´ ì§ì ‘ ê´€ë¦¬ë¨

- ULT ì‹¤í–‰ ì‹œë‚˜ë¦¬ì˜¤
    - ìŠ¤ë ˆë“œë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” ì»¤ë„ì˜ CPU ìŠ¤ì¼€ì¤„ëŸ¬ê°€ ìŠ¤ë ˆë“œë¥¼ CPUì— ìŠ¤ì¼€ì¥´ë§í•´ì•¼í•¨
    - í•˜ì§€ë§Œ CPU ìŠ¤ì¼€ì¥´ëŸ¬ëŠ” ì»¤ë„ì˜ ì¼ë¶€ì´ê¸° ë•Œë¬¸ì— ULT ì— ëŒ€í•´ ì•Œì§€ ëª»í•¨
    - ê·¸ë˜ì„œ ULT ëŠ” KLT ì— ë§¤í•‘ë˜ì–´ ì‹¤í–‰í•˜ê²ŒëŒ
- ULT â†” KLT ë§¤í•‘ ë°©ë²•
    - **Many to One Model, ë‹¤ëŒ€ì¼ ëª¨ë¸**
        ![Untitled 1.png](images%2FUntitled%201.png)
        - ë‹¤ëŒ€ì¼ ëª¨ë¸ì€ ì—¬ëŸ¬ ULT ë¥¼ í•˜ë‚˜ì˜ KLT ì— ë§¤í•‘í•¨. ìŠ¤ë ˆë“œëŠ” ì‚¬ìš©ì ê³µê°„ì˜ ìŠ¤ë ˆë“œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì˜í•´ ê´€ë¦¬ë¨
        - í•œ ìŠ¤ë ˆë“œê°€ Blocking ë˜ë©´ ì „ì²´ í”„ë¡œì„¸ìŠ¤ê°€ Blockë¨
        - í•œë²ˆì— í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œë§Œ ì»¤ë„ì— ì ‘ê·¼í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë©€í‹° ì½”ì–´ ì‹œìŠ¤í…œì—ì„œ ë³‘ë ¬ ì‹¤í–‰ ë¶ˆê°€ëŠ¥ But ë™ê¸°í™” ë° ë¦¬ì†ŒìŠ¤ ê³µìœ ê°€ ì‰¬ì›Œì„œ ì‹¤í–‰ì‹œê°„ì´ ë‹¨ì¶•ë¨
        - Java ì˜ ì´ˆê¸° ë²„ì „ ìŠ¤ë ˆë“œ ëª¨ë¸ì¸ Green Thread ê°€ ì´ ëª¨ë¸ì„ ì±„íƒí–ˆì§€ë§Œ ëŒ€ë¶€ë¶„ì˜ ì»´í“¨íŒ… ì‹œìŠ¤í…œì´ ë©€í‹° ì½”ì–´ë¡œ ë°”ë€Œë©´ì„œ í•´ë‹¹ ëª¨ë¸ì€ ì‚¬ìš©ë˜ì§€ ì•ŠìŒ
    - **One to One Model, ì¼ëŒ€ì¼ ëª¨ë¸**
        ![Untitled 2.png](images%2FUntitled%202.png)
        - ì¼ëŒ€ì¼ ëª¨ë¸ì€ ê° ULT ë¥¼ ê°ê°ì˜ í•˜ë‚˜ì˜ KLT ì— ë§¤í•‘
        - í•œ ìŠ¤ë ˆë“œê°€ Blocking ë˜ë”ë¼ë„ ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ ì‹¤í–‰ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë³‘ë ¬ ì‹¤í–‰ì— ìš©ì´
        - But ULT ë¥¼ ìœ„í•´ KLT ë¥¼ ë§Œë“¤ì–´ì•¼í•˜ëŠ” í° ë‹¨ì  ì¡´ì¬, ë§ì€ KLT ëŠ” ì‹œìŠ¤í…œì— ë¶€í•˜ë¥¼ ê°€í•˜ê¸° ë•Œë¬¸ì— OS ëŠ” ìŠ¤ë ˆë“œ ìˆ˜ì˜ ì¦ê°€ë¥¼ ì œí•œí•¨
    - **Many to Many Model, ë‹¤ëŒ€ë‹¤ ëª¨ë¸**
        ![Untitled 3.png](images%2FUntitled%203.png)
        - í•´ë‹¹ ëª¨ë¸ì€ ì—¬ëŸ¬ê°œì˜ ULT ë³´ë‹¤ ì‘ì€ í˜¹ì€ ê°™ì€ ìˆ˜ì˜ KLT ë¡œ ë§¤í•‘
        - KLT ì˜ ìˆ˜ëŠ” ì‹œìŠ¤í…œì˜ ì½”ì–´ ìˆ˜ì— ë”°ë¼ ë‹¤ë¦„. ì½”ì–´ì˜ ê°¯ìˆ˜ê°€ ë§ì„ ìˆ˜ë¡ ë§ì€ KLT ë¥¼ í• ë‹¹ë°›ìŒ
        - ì´ì „ ë‘ ëª¨ë¸ì˜ ë‹¨ì ì„ ì ˆì¶©í•œ ë°©ë²•ìœ¼ë¡œ ê°œë°œìëŠ” í•„ìš”í•œ ë§Œí¼ ULT ë¥¼ ìƒì„±í•˜ê³  ê·¸ì— ìƒì‘í•˜ëŠ” KLT ê°€ ë³‘ë ¬ë¡œ ìˆ˜í–‰ë¨. ê°€ì¥ ë†’ì€ ì •í™•ë„ì˜ ë™ì‹œì„± ì²˜ë¦¬ë¥¼ ì œê³µí•˜ëŠ” ëª¨ë¸ë¡œ, í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œê°€ Blocking ë˜ì—ˆì„ ë•Œ ì»¤ë„ì€ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì˜ ìˆ˜í–‰ì„ ìŠ¤ì¼€ì¥´ë§í•  ìˆ˜ ìˆìŒ
        - ì¼ëŒ€ì¼ ëª¨ë¸ë¡œë„ ë™ì‘í•  ìˆ˜ ìˆìŒ. ë§¤ìš° ì¢‹ì•„ë³´ì´ì§€ë§Œ ì‹¤ì œë¡œ êµ¬í˜„í•˜ê¸° ì–´ë µê³  ì‹œìŠ¤í…œì—ì„œ ì½”ì–´ ìˆ˜ê°€ ì¦ê°€í•˜ë©´ì„œ ì»¤ë„ ìŠ¤ë ˆë“œë¥¼ ì œí•œí•˜ëŠ” ì¤‘ìš”ì„±ì´ ì¤„ì–´ ëŒ€ë¶€ë¶„ì˜ OS ì—ì„œ ì¼ëŒ€ì¼ ëª¨ë¸ ì°¨ìš©ì¤‘

### Java Thread Model

ì´ˆê¸°ì—ëŠ” Green Thread ë¥¼ ì‚¬ìš©í•˜ë‹¤ê°€ Native Thread ëª¨ë¸ë¡œ ë³€ê²½

Javaì˜ ìŠ¤ë ˆë“œ ëª¨ë¸ì€ Native Threadë¡œ, Javaì˜ ìœ ì € ìŠ¤ë ˆë“œë¥¼ ë§Œë“¤ë©´ [Java Native Interface(JNI)](https://velog.io/@vrooming13/JNI-JAVA-Native-Interface)ë¥¼ í†µí•´ ì»¤ë„ ì˜ì—­ì„ í˜¸ì¶œí•˜ì—¬ OSê°€ ì»¤ë„ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ê³  ë§¤í•‘í•˜ì—¬ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” í˜•íƒœ

|  | Green Thread | Native Thread |
| --- | --- | --- |
| Multi Threading Model | ë‹¤ëŒ€ì¼ ëª¨ë¸ | ë‹¤ëŒ€ë‹¤ ëª¨ë¸ |
| êµ¬í˜„ ë° ê´€ë¦¬ | ì• í”Œë¦¬ì¼€ì´ì…˜ ìˆ˜ì¤€ì—ì„œ êµ¬í˜„ë˜ê³  ì‚¬ìš©ì ê³µê°„ì—ì„œ ê´€ë¦¬ | OS ìˆ˜ì¤€ì—ì„œ êµ¬í˜„ë˜ê³  ì»¤ë„ ê³µê°„ì—ì„œ ê´€ë¦¬ |
| ì¥ì  | ë™ê¸°í™” ë° ìì› ê³µìœ ê°€ ìš©ì´í•˜ì—¬ ì‹¤í–‰ ì‹œê°„ì´ ë‹¨ì¶•ë¨ | ë†’ì€ ì •í™•ë„ì˜ ë™ì‹œì„± ì²˜ë¦¬, ë©€í‹°ì½”ì–´ ì‹œìŠ¤í…œì˜ í™œìš©í•  ìˆ˜ ìˆìŒ |
| ë‹¨ì  | ë©€í‹° ì½”ì–´ ì‹œìŠ¤í…œì˜ ì´ì ì„ ì‚´ë¦´ ìˆ˜ ì—†ìŒ | ìŠ¤ë ˆë“œ ë™ê¸°í™” ë° ìì› ê³µìœ ê°€ ë³µì¡ â†’ ì‹¤í–‰ ì‹œê°„ ì¦ê°€ |

### ë²„ì „ë³„ ë³€ê²½ì 

- **Java 1.0 - 1.1**
    - ì´ˆê¸° ë²„ì „ì—ì„œëŠ” ìŠ¤ë ˆë”©ì— ëŒ€í•œ ê¸°ë³¸ í´ë˜ìŠ¤ë“¤ì´ ì œê³µë˜ì§€ ì•Šì•˜ìŒ
    - ê°œë°œìëŠ” **`Thread`** í´ë˜ìŠ¤ë¥¼ ì§ì ‘ í™•ì¥í•˜ê±°ë‚˜ **`Runnable`** ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ì—¬ ìŠ¤ë ˆë“œë¥¼ ìƒì„±
- **Java 1.2 - 1.4 (Java 2)**
    - Java 2ì—ì„œëŠ” **`java.lang.Thread`** í´ë˜ìŠ¤ ë° **`java.lang.Runnable`** ì¸í„°í˜ì´ìŠ¤ê°€ ë„ì…
    - **`Thread`** í´ë˜ìŠ¤ì˜ ë©”ì„œë“œ ì¤‘ ì¼ë¶€ê°€ synchronizedë¡œ ì„ ì–¸ë˜ì–´ ë©€í‹°ìŠ¤ë ˆë”©ì—ì„œ ë” ì‰½ê²Œ ì‚¬ìš©
    - **`synchronized`** í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ìŠ¤ë ˆë“œ ê°„ ë™ê¸°í™” ì§€ì›.
- **Java 5 (Java 1.5) - ë™ì‹œì„± APIì˜ ë„ì…**
    - **`java.util.concurrent`** íŒ¨í‚¤ì§€ ë„ì…ìœ¼ë¡œ ìŠ¤ë ˆë“œ í’€, ë½, ë™ì‹œ ì»¬ë ‰ì…˜ ë“±ì„ í¬í•¨í•œ ìƒˆë¡œìš´ ë™ì‹œì„± APIê°€ ë„ì…
    - **`Executor`** í”„ë ˆì„ì›Œí¬, **`Future`** ë° **`Callable`** ì¸í„°í˜ì´ìŠ¤, **`Lock`** ë° **`ReentrantLock`** ë“±ì´ ì¶”ê°€
    - **`volatile`** í‚¤ì›Œë“œì˜ ì‚¬ìš©ì´ ë³€ê²½ë˜ì–´ ìŠ¤ë ˆë“œ ê°„ ê°€ì‹œì„±ì´ í–¥ìƒë˜ì—ˆìŠµë‹ˆë‹¤.
- **Java 6**
    - **`java.util.concurrent`** íŒ¨í‚¤ì§€ì— ëª‡ ê°€ì§€ ìƒˆë¡œìš´ í´ë˜ìŠ¤ ë° ê°œì„  ì‚¬í•­ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.
    - **`StampedLock`**ì´ ì¶”ê°€ë˜ì–´ ë‚™ê´€ì ì¸ ì½ê¸°ì™€ ì“°ê¸° ì ê¸ˆì„ ì§€ì›í–ˆìŠµë‹ˆë‹¤.
- **Java 7**
    - **`ForkJoinPool`**ì´ ë„ì…ë˜ì–´ ë³‘ë ¬ ì²˜ë¦¬ë¥¼ ì§€ì›í•˜ëŠ”ë° ì‚¬ìš©ë©ë‹ˆë‹¤.
    - **`ThreadLocalRandom`** í´ë˜ìŠ¤ ë„ì…ìœ¼ë¡œ ìŠ¤ë ˆë“œ ê°„ ëœë¤ ë„˜ë²„ ìƒì„±ì´ í–¥ìƒë˜ì—ˆìŠµë‹ˆë‹¤.
- **Java 8**
    - ëŒë‹¤ í‘œí˜„ì‹ì´ ë„ì…ë˜ì–´ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì´ ê°€ëŠ¥í•´ì¡ŒìŠµë‹ˆë‹¤.
    - **`java.util.stream`** íŒ¨í‚¤ì§€ ì¶”ê°€ë¡œ ë³‘ë ¬ ìŠ¤íŠ¸ë¦¼ì„ í†µí•œ ê°„ë‹¨í•œ ë³‘ë ¬ ì²˜ë¦¬ë¥¼ ì œê³µ.
- **Java 9**
    - **`Flow`** API ë„ì…ìœ¼ë¡œ ë¦¬ì•¡í‹°ë¸Œ í”„ë¡œê·¸ë˜ë° ë° ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°ì„ ìœ„í•œ ìŠ¤íŠ¸ë¦¼ ê¸°ëŠ¥ì´ í–¥ìƒë˜ì—ˆìŠµë‹ˆë‹¤.
- **Java 11**
    - **`java.util.concurrent`**ì— **`CompletableFuture`**ì— ìƒˆë¡œìš´ ë©”ì„œë“œ ì¶”ê°€.
    - **`Thread.onSpinWait()`** ë©”ì„œë“œ ë„ì….

### í–¥í›„ ì§€í–¥ì 

- **ê·¸ ì´í›„ ëˆˆì—¬ê²¨ë³¼ë§Œí•œ Thread ë³€ê²½**
    - **`Virtual Thread` : ê²½ëŸ‰ ìŠ¤ë ˆë“œ ëª¨ë¸**
        - ê¸°ì¡´ ìŠ¤ë ˆë“œ ëª¨ë¸ì˜ ë¬¸ì œì 
            - ìš”ì²­ëŸ‰ì´ ê¸‰ê²©í•˜ê²Œ ì¦ê°€í•˜ëŠ” ì„œë²„ í™˜ê²½ì—ì„œëŠ” ê°ˆìˆ˜ë¡ ë” ë§ì€ ìŠ¤ë ˆë“œ ìˆ˜ë¥¼ ìš”êµ¬í•˜ê²Œ ë˜ì—ˆìŒ. ìŠ¤ë ˆë“œì˜ ì‚¬ì´ì¦ˆê°€ í”„ë¡œì„¸ìŠ¤ì— ë¹„í•´ ì‘ë‹¤ê³  í•´ë„, ìŠ¤ë ˆë“œ 1ê°œë‹¹ 1MB ì‚¬ì´ì¦ˆë¼ê³  ê°€ì •í•˜ë©´, 4GB ë©”ëª¨ë¦¬ í™˜ê²½ì—ì„œë„ ë§ì•„ì•¼ 4,000ê°œì˜ ìŠ¤ë ˆë“œë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŒ. ì´ì²˜ëŸ¼ ë©”ëª¨ë¦¬ê°€ ì œí•œëœ í™˜ê²½ì—ì„œëŠ” ìƒì„±í•  ìˆ˜ ìˆëŠ” ìŠ¤ë ˆë“œ ìˆ˜ì— í•œê³„ê°€ ìˆì—ˆê³ , ìŠ¤ë ˆë“œê°€ ë§ì•„ì§€ë©´ì„œ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ ë¹„ìš©ë„ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ëŠ˜ì–´ë‚˜ê²ŒëŒ
        - ë” ë§ì€ ìš”ì²­ ì²˜ë¦¬ëŸ‰ê³¼ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ ë¹„ìš©ì„ ì¤„ì—¬ì•¼ í–ˆëŠ”ë°, ì´ë¥¼ ìœ„í•´ ë‚˜íƒ€ë‚œ ìŠ¤ë ˆë“œ ëª¨ë¸ì´ ê²½ëŸ‰ ìŠ¤ë ˆë“œ ëª¨ë¸ì¸ 
        - **Virtual Thread**
      
          [Javaì˜ ë¯¸ë˜, Virtual Thread | ìš°ì•„í•œí˜•ì œë“¤ ê¸°ìˆ ë¸”ë¡œê·¸](https://techblog.woowahan.com/15398/)
    
          [[Java] ê¸°ì¡´ ìë°” ìŠ¤ë ˆë“œ ëª¨ë¸ì˜ í•œê³„ì™€ ìë°” 21ì˜ ê°€ìƒ ìŠ¤ë ˆë“œ(Virtual Thread)ì˜ ë„ì…](https://mangkyu.tistory.com/309)


## ìë°” Concurrent íŒ¨í‚¤ì§€ í•™ìŠµ ë° êµ¬ì¡° ë³€ê²½

### `Java Thread` VS `Concurrent íŒ¨í‚¤ì§€`

### ê¸°ì¡´ Java Thread ìš´ì˜ ë°©ì‹ì˜ ë¬¸ì œì 

```java
while ((connection = listenSocket.accept()) != null) {
    Thread thread = new Thread(new RequestHandler(connection));
    thread.start();
}
```

- ë‹¤ìŒê³¼ ê°™ì€ Thread ìš´ì˜ ë°©ì‹ì„ ì„œë²„ì— ë„ì…í•  ê²½ìš° ë™ì‹œì— ì—¬ëŸ¬ ì‚¬ìš©ìê°€ ì ‘ì†í•  ë•Œì— ìŠ¤ë ˆë“œë¥¼ ê³„ì†í•´ì„œ ìƒì„± â†’ ìë°” ìŠ¤ë ˆë“œ ëª¨ë¸ì˜ ê²½ìš°, thread ë¥¼ OSì˜ ìì›ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— OS ìì›ì´ ë¹¨ë¦¬ ì†Œì§„ë˜ì–´ ì„œë²„ê°€ ë‹¤ìš´ë  ìœ„í—˜ì´ ìˆìŒ
- ë˜í•œ Thread ê°€ ì‹¤í–‰í•œ task ì˜ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ê³  ì‹¶ì€ ê²½ìš°, ê¸°ì¡´ Java Thread ë¡œëŠ” ë¶ˆê°€ëŠ¥í•œ ë¶€ë¶„ì´ ì¡´ì¬

### ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ [Concurrent íŒ¨í‚¤ì§€](https://wiki.yowu.dev/ko/Knowledge-base/Java/java-s-java-util-concurrent-package-for-parallel-programming)

- **`Thread Pool ì´ë€`**
    - íƒ„ìƒ ë°°ê²½
        - ë°ì´í„°ë² ì´ìŠ¤ ë° ì›¹ ì„œë²„ì™€ ê°™ì€ ì„œë²„ í”„ë¡œê·¸ë¨ì€ ì—¬ëŸ¬ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ë°˜ë³µì ìœ¼ë¡œ ì‹¤í–‰í•˜ë©° ë§ì€ ìˆ˜ì˜ ì‘ì€ ì‘ì—…ë“¤ì„ ì²˜ë¦¬í•˜ëŠ” ë° ì¤‘ì ì„ ë‘ . ì„œë²„ ì‘ìš© í”„ë¡œê·¸ë¨ì„ ì´ëŸ¬í•œ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì€ ìš”ì²­ì´ ë„ì°©í•  ë•Œë§ˆë‹¤ ìƒˆ ìŠ¤ë ˆë“œë¥¼ ë§Œë“¤ê³  ìƒˆë¡œ ë§Œë“  ìŠ¤ë ˆë“œì—ì„œ ë°›ì€ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ê²ƒ. BUT ëª¨ë“  ìš”ì²­ì— ëŒ€í•´ ìƒˆ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ëŠ” ì„œë²„ëŠ” ì‹¤ì œ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ê²ƒë³´ë‹¤ ìŠ¤ë ˆë“œ ìƒì„± ë° ì†Œë©¸ì— ë” ë§ì€ ì‹œê°„ì„ ì†Œë¹„í•˜ê³  ë” ë§ì€ ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ë¥¼ ì†Œë¹„. í™œì„±(active) ìŠ¤ë ˆë“œëŠ” ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ë¥¼ ì†Œë¹„í•˜ê¸° ë•Œë¬¸ì— ë™ì‹œì— ë„ˆë¬´ ë§ì€ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ëŠ” JVMì€ ì‹œìŠ¤í…œì— OOMì„ ìœ ë°œí•  ìˆ˜ ìˆìŒ. ì´ê²ƒì€ ìƒì„±ë˜ëŠ” ì“°ë ˆë“œì˜ ìˆ˜ë¥¼ ì œí•œí•  í•„ìš”ì„±ì„ ëŠë¼ê²Œí•¨.
    - ìš´ì˜ ë°©ì‹
        - ì“°ë ˆë“œ í’€ì€Â **ë¯¸ë¦¬ ì¼ì • ê°œìˆ˜ì˜Â ì“°ë ˆë“œë¥¼ ìƒì„±í•˜ì—¬ ê´€ë¦¬**í•˜ëŠ” ê¸°ë²•
        ![Untitled 4.png](images%2FUntitled%204.png)
        - ë¯¸ë¦¬ ìƒì„±ëœ ì“°ë ˆë“œë“¤ì€ ì‘ì—…ì„ í• ë‹¹ë°›ê¸° ìœ„í•´ ëŒ€ê¸° ìƒíƒœì— ìˆê²Œ ë˜ëŠ”ë°, ì‘ì—…ì´ ë°œìƒí•˜ë©´ ëŒ€ê¸° ì¤‘ì¸ ì“°ë ˆë“œ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ì—¬ ì‘ì—…ì„ ìˆ˜í–‰. ì‘ì—…ì´ ì™„ë£Œë˜ë©´ í•´ë‹¹ ìŠ¤ë ˆë“œëŠ” ë‹¤ì‹œ ëŒ€ê¸° ìƒíƒœë¡œ ëŒì•„ê°€ê³ , ìƒˆë¡œìš´ ì‘ì—…ì„ í• ë‹¹ë°›ì„ ì¤€ë¹„.
        - ì“°ë ˆë“œÂ í’€ì„Â ì‚¬ìš©í•˜ë©´Â ìŠ¤ë ˆë“œÂ ìƒì„±Â ë°Â ì‚­ì œì—Â ë”°ë¥¸Â ì˜¤ë²„í—¤ë“œë¥¼Â ì¤„ì¼Â ìˆ˜Â ìˆìœ¼ë©°,Â íŠ¹ì •Â ì‹œì ì—Â ë™ì‹œì—Â ì²˜ë¦¬í• Â ìˆ˜Â ìˆëŠ”Â ì‘ì—…ì˜Â ê°œìˆ˜ë¥¼Â ì œí•œí• Â ìˆ˜Â ìˆìŒ.
- **`How to Use??`**

  [concurrent íŒ¨í‚¤ì§€ ë¶„ì„](https://engineerinsight.tistory.com/197)

  [ìŠ¤ë ˆë“œí’€ í™œìš© ì˜ˆì‹œ](https://velog.io/@nnakki/JavaìŠ¤ë ˆë“œí’€Thread-Pool)


### ê¸°ì¡´ WAS ì— Concurrent íŒ¨í‚¤ì§€ ë„ì…

> **ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì“°ë ˆë“œ í’€ì„ ë„ì…í•˜ê¸° ì¢‹ì€ ì´ìœ  -** ì“°ë ˆë“œí’€ì€ ë™ì¼í•˜ê³  ì„œë¡œ ë…ë¦½ì ì¸ ë‹¤ìˆ˜ì˜ ì‘ì—…ì„ ì‹¤í–‰ í•  ë•Œ ê°€ì¥ íš¨ê³¼ì ì´ë‹¤.ì‹¤í–‰ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì‘ì—…ê³¼ ê¸ˆë°© ëë‚˜ëŠ” ì‘ì—…ì„ ì„ì–´ì„œ ì‹¤í–‰í•˜ë„ë¡ í•˜ë©´ í’€ì˜ í¬ê¸°ê°€ êµ‰ì¥íˆ í¬ì§€ ì•Šì€ í•œ ì‘ì—… ì‹¤í–‰ì„ ë°©í•´í•˜ëŠ” ê²ƒê³¼ ë¹„ìŠ·í•œ ìƒí™©ì´ ë°œìƒí•œë‹¤. ë˜í•œ í¬ê¸°ê²Œ ì œí•œë˜ì–´ ìˆëŠ” ì“°ë ˆë“œ í’€ì— ë‹¤ë¥¸ ì‘ì—…ì˜ ë‚´ìš©ì— ì˜ì¡´ì„±ì„ ê°–ê³  ìˆëŠ” ì‘ì—…ì„ ë“±ë¡í•˜ë©´ ë°ë“œë½ì´ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ë†’ë‹¤. ë‹¤í–‰ìŠ¤ëŸ½ê²Œë„ ì¼ë°˜ì ì¸ ë„¤íŠ¸ì› ê¸°ë°˜ì˜ ì„œë²„ ì–´í”Œë¦¬ì¼€ì´ì…˜ (ì›¹ì„œë²„,ë©”ì¼ì„œë²„,íŒŒì¼ì„œë²„ë“±)ì€ ì‘ì—…ì´ ì„œë¡œ ë™ì¼í•˜ë©´ì„œ ë…ë¦½ì ì´ì–´ì•¼ í•œë‹¤ëŠ” ì¡°ê±´ì„ ëŒ€ë¶€ë¶„ ë§Œì¡±í•œë‹¤. - Java concurrency in practice ì±… ë°œì·Œ
>
- ë³€ê²½ì 

```java
var executor = Executors.newFixedThreadPool(30);
while ((connection = listenSocket.accept()) != null) {
    // STEP-1 [ìš”êµ¬ ì‚¬í•­ 3] Concurrent íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ë³€ê²½.
    executor.execute(new RequestHandler(connection));
}
```

## ğŸ§¨Â Thread Pool ì‚¬ìš© ì‹œ ì£¼ì˜ ì‚¬í•­ ğŸ§¨

1. ë‹¤ë¥¸ ì‘ì—…ì˜ ê²°ê³¼ë¥¼ ë™ì‹œì— ê¸°ë‹¤ë¦¬ëŠ” ì‘ì—…ì„ ëŒ€ê¸°ì—´ì— ë„£ìœ¼ë©´ ì•ˆë¨. ì´ë¡œ ì¸í•´ ìœ„ì—ì„œ ì„¤ëª…í•œ êµì°© ìƒíƒœê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ
2. ìŠ¤ë ˆë“œ í’€ì€ ë§ˆì§€ë§‰ì— ëª…ì‹œì ìœ¼ë¡œ ì¢…ë£Œì‹œì¼œì•¼í•¨. ì´ ì‘ì—…ì„ í•˜ì§€ ì•Šìœ¼ë©´ í”„ë¡œê·¸ë¨ì´ ê³„ì† ì‹¤í–‰ë˜ê³  ëë‚˜ì§€ ì•ŠìŠµë‹ˆë‹¤. í’€ì—ì„œ shutdown()ì„ í˜¸ì¶œí•˜ì—¬ Excutorë¥¼ ì¢…ë£Œ. ì¢…ë£Œ í›„ ì´ Excutorì— ë‹¤ë¥¸ ì‘ì—…ì„ ë³´ë‚´ë ¤ê³  í•˜ë©´ RejectedExecutionExceptionì´ ë°œìƒ
3. JVMì—ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ìµœëŒ€ ìŠ¤ë ˆë“œ ìˆ˜ë¥¼ ì œí•œí•˜ì—¬ JVMì˜ ë©”ëª¨ë¦¬ ë¶€ì¡± ê°€ëŠ¥ì„±ì„ ì¤„ì´ëŠ” ê²ƒì´ ì¢‹ìŒ.
4. ì²˜ë¦¬ë¥¼ ìœ„í•´ ìƒˆ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ëŠ” ë°˜ë³µë¬¸ì„ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ê²½ìš° ThreadPoolì´ ìµœëŒ€ ì œí•œì— ë„ë‹¬í•œ í›„ ìƒˆ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ThreadPoolì„ ì‚¬ìš©í•˜ë©´ ë” ë¹ ë¥´ê²Œ ì²˜ë¦¬í•˜ëŠ” ë° ë„ì›€ì´ ë¨.


----

# OOP ì´ë€?

ì‹¤ì œ ì„¸ê³„ì²˜ëŸ¼ ë” ë°€ì ‘í•œ ëª¨ë¸ë§ ë°©ì‹ì´ í•„ìš”í•´ì„œ ë“±ì¥í•œ ë°©ì‹ì´ ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°(Object Oriented Programming)ì„. **OOP ì˜ í•µì‹¬ì€ ê°ì²´ì™€ í´ë˜ìŠ¤**ì¸ë° ì´ë“¤ì€ ì‹¤ì œ ê°œì²´ì™€ ê°™ì€ **ë°ì´í„°ì™€ í–‰ë™**ì´ë¼ëŠ” 2ê°€ì§€ íŠ¹ì§•ì„ ì§€ë‹ˆê³  ìˆìŒ

- **ë°ì´í„°**ëŠ” ê°ì²´ì˜ ì†ì„±ê³¼ ìƒíƒœë¥¼ ë‚˜íƒ€ëƒ„
- **í–‰ë™**ì€ ìŠ¤ìŠ¤ë¡œ ë³€í™”í•˜ê³  ë‹¤ë¥¸ ë¬¼ì²´ì™€ ì†Œí†µí•  ìˆ˜ ìˆëŠ” ëŠ¥ë ¥

### í´ë˜ìŠ¤ì™€ ê°ì²´

**ê°ì²´ëŠ” í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ì„**. ê°ê°ì˜ ê°ì²´ëŠ” ìƒíƒœ, í–‰ë™ ê·¸ë¦¬ê³  ì‹ë³„ìë¥¼ ê°–ê³  ìˆìŒ. ë˜í•œ ê°ì²´ë“¤ì€ ì„œë¡œê°„ì˜ í˜¸ì¶œì„ í†µí•´ í†µì‹ í•  ìˆ˜ ìˆìœ¼ë©° ì´ë¥¼ message passingì´ë¼ê³  í•¨

í•˜ë‚˜ì˜ í´ë˜ìŠ¤ë¥¼ í†µí•´ í•„ìš”ë¡œí•˜ëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ì— ì—¬ëŸ¬ê°œì˜ ê°ì²´ë¥¼ ìƒì„±. ê° ê°ì²´ì˜ ì‹ë³„ì€ ì¼ë°˜ì ìœ¼ë¡œ JVM ì— ì˜í•´ ìœ ì§€ë˜ë©° Java ê°ì²´ë¥¼ ë§Œë“¤ ë•Œë§ˆë‹¤ JVM ì€ ê°ì²´ì— ëŒ€í•œ í•´ì‹œì½”ë“œë¥¼ ë§Œë“¤ê³  í• ë‹¹í•¨. ì´ë¥¼ í†µí•´ JVM ì€ ëª¨ë“  ê°ì²´ê°€ ê³ ìœ í•˜ê²Œ ì‹ë³„ë˜ë„ë¡í•¨

## OOPì˜ 4ê°€ì§€ ì›ì¹™

1. **ì¶”ìƒí™”(Abstraction)**

   ì¶”ìƒí™”ëŠ” ì»¨í…ìŠ¤íŠ¸ì™€ ê´€ë ¨ì´ ì—†ëŠ” ì •ë³´ë¥¼ ìˆ¨ê¸°ê±°ë‚˜ ê´€ë ¨ëœ ì •ë³´ë§Œ ì•Œ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²ƒ. ì¼ë°˜ì ì¸ ì¶”ìƒí™”ëŠ” ë°ì´í„° ì¶”ìƒí™” ì™€ ì œì–´ ì¶”ìƒí™”ë¡œ ë³¼ ìˆ˜ ìˆìŒ

    ```java
    // ë°ì´í„° ì¶”ìƒí™”
    public class Employee 
    {
        private Department department;
        private Address address;
        private Education education;
        // ë³µì¡í•œ ë°ì´í„° í˜•íƒœë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ ì‘ì€ ë°ì´í„° íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•
    }
    ```

    ```java
    //ì œì–´ ì¶”ìƒí™”
    public class EmployeeManager
    {
        public Address getPrefferedAddress(Employee e)
        {
            // ì–´ë–¤ í´ë˜ìŠ¤ì˜ ë©”ì†Œë¥¼ ì‚¬ìš©í•˜ëŠ” ì‚¬ìš©ìì—ê²Œ í•´ë‹¹ ë©”ì†Œë“œì˜ ì‘ë™ë°©ì‹ê³¼
    				// ê°™ì€ ë¡œì§ì„ ìˆ¨ê¸°ê¸° ìœ„í•¨ì„. ë§Œì¼ ë©”ì†Œë“œ ë‚´ ë¡œì§ì´ ë³€ê²½ëœë‹¤ê³  í•˜ë”ë¼ë„
    				// ì‹¤ì œ ì‚¬ìš©ìëŠ” ë³€ê²½ëœ ë‚´ìš©ì´ ì–´ë–¤ ê²ƒì¸ì§€ ì•Œ í•„ìš” ì—†ì´ ì´ì „ê³¼ ë™ì¼í•˜ê²Œ ë©”ì†Œ
    				// ì‚¬ìš©í•  ìˆ˜ ìˆìŒ. ë”°ë¼ì„œ ë¡œì§ì´ ë³€ê²½ë˜ë”ë¼ë„ ì‚¬ìš©ìì—ê²Œ ì˜í–¥ì„ ì£¼ì§€ ì•ŠìŒ
        }
    }
    ```

2. **ìº¡ìŠí™”(Encapsulation)**

   ìº¡ìŠí™”ëŠ” ê´€ë ¨ì´ ìˆëŠ” ë³€ìˆ˜ì™€ í•¨ìˆ˜ë¥¼ í•˜ë‚˜ì˜ í´ë˜ìŠ¤ë¡œ ë¬¶ê³  ì™¸ë¶€ì—ì„œ ì‰½ê²Œ ì ‘ê·¼í•˜ì§€ ëª»í•˜ë„ë¡ ì€ë‹‰í•˜ëŠ” ê²ƒ. ê°ì²´ì˜ ì§ì ‘ì ì¸ ì ‘ê·¼ì„ ë§‰ê³  ì™¸ë¶€ì—ì„œ ë‚´ë¶€ì˜ ì •ë³´ì— ì§ì ‘ ì ‘ê·¼í•˜ê±°ë‚˜ ë³€ê²½í•  ìˆ˜ ì—†ê³  ê°ì²´ê°€ ì œê³µí•˜ëŠ” í•„ë“œì™€ ë©”ì†Œë“œë¥¼ í†µí•´ì„œë§Œ ì ‘ê·¼ì´ ê°€ëŠ¥. ìº¡ìŠí™”ì—ëŠ” **ì •ë³´ì€ë‹‰**ê³¼ **êµ¬í˜„ì€ë‹‰**ì„ ëª¨ë‘ ê°–ê³  ìˆìŒ

   ì •ë³´ì€ë‹‰ì˜ ë°©ë²•ìœ¼ë¡œëŠ” **1. ì ‘ê·¼ì œì–´ìë¥¼ ì‚¬ìš©í•˜ì—¬ ì™¸ë¶€ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ì—†ë„ë¡ í•˜ë©° 2. ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ êµ¬í˜„ì€ë‹‰ì„ ë‹¬ì„±í•˜ëŠ” ê²ƒ**. êµ¬í˜„ì€ë‹‰ì€ ê°ì²´ê°€ ì±…ì„ì„ ì´í–‰í•˜ëŠ” ë°©ì‹ì„ ìˆ˜ì •í•  ìˆ˜ ìˆë„ë¡ ê°œë°œìì—ê²Œ ììœ ë¥¼ ì œê³µ. ì´ëŠ” ì„¤ê³„ê°€ ë³€ê²½ ë  ë•Œ ìœ ìš©í•˜ê²Œ ì‘ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

    ```java
    //ì •ë³´ ì€ë‹‰
    class InformationHiding 
    {
        // ì§ì ‘ ì ‘ê·¼ ë§‰ê¸°
        private ArrayList items = new ArrayList();
    		
        public ArrayList getItems(){ // itemì—ëŠ” ì§ì ‘ ì ‘ê·¼x, ë©”ì„œë“œë¥¼ í†µí•´ ì ‘ê·¼
            return items;
        }
    }
    ```

    ```java
    //êµ¬í˜„ ì€ë‹‰
    interface ImplemenatationHiding {
        Integer sumAllItems(ArrayList items);
    }
    class InformationHiding implements ImplemenatationHiding
    {
        private ArrayList items = new ArrayList();
     
        public ArrayList getItems(){
            return items;
        }
     
        public Integer sumAllItems(ArrayList items) {
            //ì´ í•¨ìˆ˜ì˜ ì‚¬ìš©ìëŠ” ë‚´ë¶€ êµ¬í˜„ê³¼ ë¬´ê´€
        }
    }
    ```

3. **ìƒì†(Inheritance)**

   ìë°”ì—ì„œì˜ ìƒì†ì€ í•˜ë‚˜ì˜ í´ë˜ìŠ¤ê°€ ë¶€ëª¨í´ë˜ìŠ¤ì˜ ì†ì„±ê³¼ í–‰ë™ì„ ì–»ê²Œ ë˜ëŠ” ë°©ë²•. ìƒì†ì€ ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ë¥¼ ìœ„í•´ ì‚¬ìš©. ìƒì†ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ”Â **extends**Â í‚¤ì›Œë“œë¥¼ ìƒì† ë°›ì„ í´ë˜ìŠ¤ì— ëª…ì‹œí•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ. subí´ë˜ìŠ¤ëŠ” superí´ë˜ìŠ¤ì˜ non-private ë©¤ë²„ë“¤ì„ ìƒì† ë°›ê²Œë˜ë©° ìƒì„±ìëŠ” ë©¤ë²„ê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ìƒì†ë˜ì§€ ì•ŠìŒ. í•˜ì§€ë§Œ subí´ë˜ìŠ¤ì—ì„œ superí´ë˜ìŠ¤ì˜ ìƒì„±ìë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆìŒ

4. **ë‹¤í˜•ì„±(Polymorphism)**

   ë‹¤í˜•ì„±ì€ ê°™ì€ ìë£Œí˜•ì— ì—¬ëŸ¬ê°€ì§€ ê°ì²´ë¥¼ ëŒ€ì…í•˜ì—¬ ë‹¤ì–‘í•œ ê²°ê³¼ë¥¼ ì–»ì–´ë‚´ëŠ” ì„±ì§ˆì„ ì˜ë¯¸. ì´ë¥¼ í†µí•´ ë™ì¼í•œ ì´ë¦„ì„ ê°™ì€ ì—¬ëŸ¬ í˜•íƒœì˜ ë§¤ì†Œë“œë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŒ. ìë°”ì—ì„œëŠ” ë‹¤í˜•ì„±ì„ ë‹¤ë£¨ëŠ” ê·¼ë³¸ì ì¸ ë°©ë²•ì´ 2ê°€ì§€ : **compile time polymorphism**Â ê³¼Â **runtime polymorphism**Â 
    
    **compile time polymorphism**ì€ ì»´íŒŒì¼ëŸ¬ê°€ í•„ìš”í•œ ëª¨ë“  ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆê³  í”„ë¡œê·¸ë¨ ì»´íŒŒì¼ ì¤‘ì— í˜¸ì¶œí•  ë°©ë²•ì„ ì•Œê¸° ë•Œë¬¸ì— ì»´íŒŒì¼ ì‹œê°„ì— ì ì ˆí•œ ë©”ì†Œë“œë¥¼ ê°ê°ì˜ ê°ì²´ì— ë°”ì¸ë”©í•  ìˆ˜ ìˆìŒ. ì •ì ë°”ì¸ë”©ì´ë‚˜ early bindingì´ë¼ê³ ë„ ë¶ˆë¦¼. ìë°”ì—ì„œëŠ” ë©”ì†Œë“œ ì˜¤ë²„ë¡œë”©ì„ í†µí•´ ì‚¬ìš©ë¨. ë©”ì†Œë“œ ì˜¤ë²„ë¡œë”©ì„ í†µí•´ ë©”ì†Œë“œì˜ ë§¤ê°œë³€ìˆ˜ì˜ í˜•íƒœê°€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŒ.

   **runtime polymorphism**ì€ ë™ì  ë°”ì¸ë”©ì´ë¼ê³  ë¶ˆë¦¬ë©° ë©”ì†Œë“œ ì˜¤ë²„ë¼ì´ë”©ê³¼ ì—°ê´€ìˆìŒ. ì¼ë°˜ì ìœ¼ë¡œ ëŸ°íƒ€ì„ ë‹¤í˜•ì„±ì€ ë¶€ëª¨ í´ë˜ìŠ¤ì™€ ìì‹ í´ë˜ìŠ¤ê°€ ì¡´ì¬í• ë•Œ ì‚¬ìš©ë˜ëŠ”ë° ë¶€ëª¨ìì‹ í´ë˜ìŠ¤ì— ì¡´ì¬í•˜ëŠ” ë©”ì†Œë“œë¥¼ ì‹¤í–‰ì‹œí‚¤ê²Œ ë˜ë©´ ëŸ°íƒ€ì„ê³¼ì •ì—ì„œ í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ì— ë§ëŠ” ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ê²Œ ë¨

    ```java
    class Animal {
        public void makeSound() {
            System.out.println("Some generic sound");
        }
    }
    
    class Dog extends Animal {
        @Override
        public void makeSound() {
            System.out.println("Bark! Bark!");
        }
    
        public void fetch() {
            System.out.println("Fetching the ball");
        }
    }
    
    class Cat extends Animal {
        @Override
        public void makeSound() {
            System.out.println("Meow!");
        }
    
        public void climb() {
            System.out.println("Climbing the tree");
        }
    }
    
    public class RuntimePolymorphismExample {
        public static void main(String[] args) {
            Animal myDog = new Dog();
            Animal myCat = new Cat();
    
            // ëŸ°íƒ€ì„ ë‹¤í˜•ì„±: ì‹¤ì œ ê°ì²´ì˜ íƒ€ì…ì— ë”°ë¼ ë©”ì„œë“œê°€ ë™ì ìœ¼ë¡œ í˜¸ì¶œë¨
            myDog.makeSound();  // "Bark! Bark!"
            myCat.makeSound();  // "Meow!"
    
            // myDogì™€ myCatì€ Animal íƒ€ì…ìœ¼ë¡œ ì„ ì–¸ë˜ì—ˆê¸° ë•Œë¬¸ì— Animal í´ë˜ìŠ¤ì˜ ë©”ì„œë“œì—ë§Œ ì ‘ê·¼ ê°€ëŠ¥
            // myDog.fetch();  // ì»´íŒŒì¼ ì˜¤ë¥˜: Animal í´ë˜ìŠ¤ì—ëŠ” fetch() ë©”ì„œë“œê°€ ì—†ìŒ
            // myCat.climb();  // ì»´íŒŒì¼ ì˜¤ë¥˜: Animal í´ë˜ìŠ¤ì—ëŠ” climb() ë©”ì„œë“œê°€ ì—†ìŒ
    
            // í˜•ë³€í™˜ì„ í†µí•´ ì‹¤ì œ ê°ì²´ì˜ íƒ€ì…ì— ë”°ë¼ ë‹¤ì–‘í•œ ë©”ì„œë“œì— ì ‘ê·¼ ê°€ëŠ¥
            if (myDog instanceof Dog) {
                ((Dog) myDog).fetch();  // "Fetching the ball"
            }
    
            if (myCat instanceof Cat) {
                ((Cat) myCat).climb();  // "Climbing the tree"
            }
        }
    }
    ```


## OOP ì¶”ê°€ ê°œë…

**ê²°í•©ë„(Coupling)**

ê²°í•©ë„ëŠ” í´ë˜ìŠ¤ê°„ì˜ ìƒí˜¸ ì˜ì¡´ ì •ë„ë¥¼ ì˜ë¯¸. ì¦‰ ì–¼ë§ˆë‚˜ ê°•í•˜ê²Œ í´ë˜ìŠ¤ë“¤ ì‚¬ì´ì— ì—°ê´€ì´ ë˜ì–´ìˆëŠ”ì§€ë¥¼ ëœ»í•¨. ì¢‹ì€ ì†Œí”„íŠ¸ì›¨ì–´ëŠ” ë‚®ì€ ê²°í•©ë„(low coupling)ë¥¼ ê°–ê³  ìˆëŠ” ê²ƒ. ì¦‰ í•˜ë‚˜ì˜ í´ë˜ìŠ¤ëŠ” íŠ¹ì • ê¸°ëŠ¥ì— ë…ë¦½ì ì´ì—¬ì•¼í•˜ë©° EmailSender ë¼ëŠ” í´ë˜ìŠ¤ì˜ ê²½ìš° ì´ë©”ì¼ì„ ì „ì†¡í•˜ëŠ” ê¸°ëŠ¥ì—ë§Œ ì§‘ì¤‘

**ì‘ì§‘ë„(Cohesion)**

ì‘ì§‘ë„ëŠ” í•˜ë‚˜ì˜ í´ë˜ìŠ¤ê°€ ê¸°ëŠ¥ì— ì§‘ì¤‘í•˜ê¸° ìœ„í•œ ëª¨ë“  ì •ë³´ì™€ ì—­í• ì„ ê°–ê³  ìˆì–´ì•¼ í•œë‹¤ëŠ” ì˜ë¯¸. ë§Œì¼ ì–´ë–¤ ê¸°ëŠ¥ì´ ì‘ë™í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ í´ë˜ìŠ¤ê°€ í•„ìš”ë‹¤ë©´ ìœ ì§€ë³´ìˆ˜ì ì¸ ì¸¡ë©´ì—ì„œ ì¢‹ì§€ ì•Šê³  ì¬ì‚¬ìš©ì„±ì„ ë‚®ì¶¤. ì¢‹ì€ ì†Œí”„íŠ¸ì›¨ì–´ëŠ” ë†’ì€ ì‘ì§‘ë„(high cohesion)ì„ ìœ ì§€

**Association**

Associationì€ ë…ë¦½ì ì¸ ë¼ì´í”„ì‚¬ì´í´ì„ ê°–ê³  ìˆëŠ” ê°ì²´ë“¤ì˜ ê´€ê³„ë¥¼ ì˜ë¯¸. í´ë˜ìŠ¤ë“¤ê°„ì˜ ì—°ê´€ì€ ì´ë£¨ì–´ì§€ì§€ë§Œ í•œ í´ë˜ìŠ¤ì˜ ìƒì„±ê³¼ ì œê±°ì— ì˜í•´ ë‹¤ë¥¸ í´ë˜ìŠ¤ê°€ ì˜í–¥ ë°›ì§€ ì•ŠëŠ” ì†ì„±

**Aggregation**

Aggregationì€ ê°ì²´ë“¤ ê°„ì˜ ê´€ê³„ì—ì„œ ë…ë¦½ì ì¸ ë¼ì´í”„ì‚¬ì´í´ì€ ì¡´ì¬í•˜ì§€ë§Œ ê´€ê³„ì˜ ì†Œìœ ê¶Œì´ ì¡´ì¬. ë¶€ëª¨í´ë˜ìŠ¤ì™€ ìì‹í´ë˜ìŠ¤ ì‚¬ì´ì—ì„œ ìì‹ í´ë˜ìŠ¤ëŠ” ë‹¤ë¥¸ ë¶€ëª¨ í´ë˜ìŠ¤ì— ì†í•  ìˆ˜ ì—†ìŒ. í•˜ì§€ë§Œ ìì‹í´ë˜ìŠ¤ ìì²´ ë¼ì´í”„ì‚¬ì´í´ì€ ë…ë¦½ì ìœ¼ë¡œ ì¡´ì¬

**Composition**

Compositionì€ ê°ì²´ê°„ì˜ ê´€ê³„ì—ì„œ ë…ë¦½ì ì¸ ë¼ì´í”„ì‚¬ì´í´ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì„±ì§ˆ. ë§Œì•½ ë¶€ëª¨ ê°ì²´ê°€ ì‚­ì œëœë‹¤ë©´ ëª¨ë“  ìì‹ ê°ì²´ë“¤ ë˜í•œ ì‚­ì œ

## OOP ëª¨ë²” ì‚¬ë¡€

**ìƒì†ë³´ë‹¨ Composition**

compositionì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¤ì–‘í•œ ì¸í„°í˜ì´ìŠ¤ì˜ ìƒì„±ì´ ì´ë£¨ì–´ì§. ìƒì†ì€ ì–´ë–¤ í´ë˜ìŠ¤ì˜ ê¸°ëŠ¥ì„ í™•ì¥ì‹œí‚¤ê¸° ìœ„í•œ ëª©ì ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆê³  ì¸í„°í˜ì´ìŠ¤ëŠ” í•´ë‹¹ ì‹œìŠ¤í…œì´ ì‘ë™í•˜ëŠ”ë° í•„ìš”í•œ í•„ìˆ˜ì ì¸ ë³€ìˆ˜ì™€ ë©”ì†Œë“œë“¤ì„ ëª…ì‹œí•´ì¤Œ. ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ì„ í†µí•´ í•„ìˆ˜ì ì¸ ê¸°ëŠ¥ì™¸ì— í•„ìš”í•œ ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ë“¤ì´ ì¶”ê°€ë˜ê³  ì‚¬ìš©ìëŠ” ì¸í„°í˜ì´ìŠ¤ì— ì¡´ì¬í•˜ëŠ” ë©”ì†Œë“œë¥¼ í†µí•´ ì‹œìŠ¤í…œì„ ì‘ë™ ì‹œí‚¬ ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

**ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•˜ê¸°**

ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ì½”ë“œì˜ ìœ ì—°ì„±ì´ ì¦ê°€. ì¸í„°í˜ì´ìŠ¤ëŠ” super classì™€ ê°™ì€ ì—­í• ì„ í•˜ê¸° ë•Œë¬¸ì— ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ë ˆê±°ì‹œ ì½”ë“œë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³  ë©”ì†Œë“œì˜ ë¡œì§ì„ ìƒˆë¡­ê²Œ ìƒì„± í•  ìˆ˜ ìˆìŒ

**ë³€ê²½ ì‚¬í•­ ìº¡ìŠí™”**

í–¥í›„ ë³€ê²½ ê°€ëŠ¥ì„±ì´ ìˆëŠ” ì½”ë“œë¥¼ ìº¡ìŠí™”í•˜ì—¬ ì‚¬ìš©ìê°€ ì½”ë“œë¥¼ ì§ì ‘ ë³€ê²½í•˜ëŠ” ì¼ì„ ì¤„ì¼ ìˆ˜ ìˆìŒ. ì ‘ê·¼ì œì–´ìë¥¼ ì‚¬ìš©í•˜ì—¬ ìº¡ìŠí™”ë¥¼ ì§„í–‰í•˜ê³  ìº¡ìŠí™”ë¥¼ ë‹¬ì„±í•˜ê¸° ìœ„í•´ì„œëŠ” ë””ìì¸ íŒ¨í„´ ì¤‘ [íŒ©í† ë¦¬ ë””ìì¸ íŒ¨í„´](https://inpa.tistory.com/entry/GOF-%F0%9F%92%A0-%ED%8C%A9%ED%86%A0%EB%A6%AC-%EB%A9%94%EC%84%9C%EB%93%9CFactory-Method-%ED%8C%A8%ED%84%B4-%EC%A0%9C%EB%8C%80%EB%A1%9C-%EB%B0%B0%EC%9B%8C%EB%B3%B4%EC%9E%90)ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ.

### SOLID ì›ì¹™

1. **ë‹¨ì¼ ì±…ì„ ì›ì¹™(SRP, Single Responsibility Principle)**

   > There should never be more than one reason for a class to change. In other words, every class should have only one responsibility.
   >

   í•œ í´ë˜ìŠ¤ëŠ” í•˜ë‚˜ì˜ ì±…ì„ë§Œ ê°€ì ¸ì•¼í•œë‹¤ëŠ” ì›ì¹™.

    ```java
    public class Developer {
        private final static boolean BACKEND = true;
        private final static boolean FRONTEND = false;
        private final boolean role;
    
        public void work() {
            if (this.role == BACKEND) {
                ...
            } else { 
                ... 
            }
        }
    }
    ```

    - Developer í´ë˜ìŠ¤ì˜ **work() ë©”ì„œë“œëŠ” ë°±ì—”ë“œì™€ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìì˜ í–‰ìœ„ë¥¼ ëª¨ë‘ êµ¬í˜„í•˜ë ¤ê³  í•˜ê¸° ë•Œë¬¸ì—, ë‹¨ì¼ ì±…ì„ ì›ì¹™ì„ ìœ„ë°˜**
    - í•´ê²°ì±… : í•´ë‹¹ í´ë˜ìŠ¤ë¥¼ Developer í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ëŠ” BackendDeveloperì™€ FrontendDeveloper í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬í•œë‹¤ë©´ ë¶„ê¸°ë¬¸ì„ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ìœ¼ë©°, ë‹¨ì¼ì±…ì„ ì›ì¹™ì„ ì§€í‚¬ ìˆ˜ ìˆìŒ. ë‹¤ìŒê³¼ ê°™ì´ ì—­í• ì— ë”°ë¼ í´ë˜ìŠ¤ë¥¼ ë¶„ë¦¬í•´ ë†“ìœ¼ë©´, ë°±ì—”ë“œ ê°œë°œìì˜ ì—­í• ì´ ë°”ë€ë‹¤ê³  í•´ë„ FrontendDeveloper í´ë˜ìŠ¤ì—ëŠ” ì „í˜€ ì˜í–¥ì´ ê°€ì§€ ì•ŠìŒ. ì´ì²˜ëŸ¼ ë³€ê²½ì´ ìˆì„ ë•Œ íŒŒê¸‰ íš¨ê³¼ê°€ ì ë‹¤ë©´ ë‹¨ì¼ ì±…ì„ ì›ì¹™ì„ ì˜ ë”°ë¥¸ ê²ƒì´ë¼ê³  íŒë‹¨
2. **ê°œë°©-íì‡„ ì›ì¹™(OCP, Open/Closed Principle)**

   > Software entities ... should be open for extension, but closed for modification.
   >

   ì†Œí”„íŠ¸ì›¨ì–´ì˜ ìš”ì†Œ(í´ë˜ìŠ¤, ëª¨ë“ˆ, í•¨ìˆ˜ ë“±)ëŠ” í™•ì¥ì—ëŠ” ì—´ë ¤ìˆìœ¼ë‚˜ ë³€ê²½ì—ëŠ” ë‹«í˜€ìˆì–´ì•¼ í•œë‹¤ëŠ” ì›ì¹™

    ```java
    import java.util.List;
    
    public interface CalculatorOperation {
        void perform();
    }
    
    public class Addition implements CalculatorOperation {
        private double left;
        private double right;
        private double result;
    
        // constructor, getters and setters
    
        @Override
        public void perform() {
            result = left + right;
        }
    }
    
    public class Subtraction implements CalculatorOperation {
        private double left;
        private double right;
        private double result;
    
        // constructor, getters and setters
    
        @Override
        public void perform() {
            result = left - right;
        }
    }
    
    public class Calculator {
        private List<CalculatorOperation> operations;
    
        public Calculator(List<CalculatorOperation> operations) {
            this.operations = operations;
        }
    
        public void calculate(CalculatorOperation operation) {
            if (operation == null) {
                throw new InvalidParameterException("Cannot perform operation");
            }
            operation.perform();
        }
    
        public void addOperation(CalculatorOperation operation) {
            operations.add(operation);
        }
    }
    ```

    - CalculatorOperation í´ë˜ìŠ¤ê°€ ì¡´ì¬í•˜ê³  Addition, Division ë“±ì˜ êµ¬ì²´ì ì¸ ì—°ì‚°ì„ êµ¬í˜„í•œ í´ë˜ìŠ¤ê°€ CalculatorOperation ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì„¤ê³„í•œë‹¤ë©´, ì¶”ê°€ì ì¸ ì—°ì‚°ì´ ìƒê²¨ í´ë˜ìŠ¤ë¥¼ í™•ì¥í•˜ë”ë¼ë„ Calculatorì˜ ì½”ë“œëŠ” ë³€ê²½í•  í•„ìš”ê°€ ì—†ìŒ. ì´ì™€ê°™ì´ ë‹¤í˜•ì„±ì„ í™œìš©í•˜ë©´ ìƒˆë¡œìš´ ê¸°ëŠ¥ì´ ì¶”ê°€ë  ë•Œ ê¸°ì¡´ì— ì‚¬ìš©í•˜ë˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ ìƒˆë¡œìš´ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ì£¼ê¸°ë§Œ í•˜ë©´ ë¨

    ```java
    public static void main(String[] args) {
          // ë”í•˜ê¸°ì™€ ë¹¼ê¸° ì—°ì‚°ì„ í¬í•¨í•œ Calculator ê°ì²´ ìƒì„±
          List<CalculatorOperation> operations = new ArrayList<>();
          operations.add(new Addition(5, 3));  // ë”í•˜ê¸° ì—°ì‚°
          operations.add(new Subtraction(10, 7));  // ë¹¼ê¸° ì—°ì‚°
    
          Calculator calculator = new Calculator(operations);
    
          // ê°ê°ì˜ ì—°ì‚° ì‹¤í–‰
          for (CalculatorOperation operation : operations) {
              calculator.calculate(operation);
          }
    
          // ê²°ê³¼ ì¶œë ¥
          Addition additionResult = (Addition) operations.get(0);
          Subtraction subtractionResult = (Subtraction) operations.get(1);
    
          System.out.println("Result of addition: " + additionResult.getResult());
          System.out.println("Result of subtraction: " + subtractionResult.getResult());
    }
    ```

3. **ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™(LSP, Liskov Subsitution principle)**

   > Functions that use pointers or references to base classes must be able to use objects of derived classes without knowing it.
   >

   í”„ë¡œê·¸ë¨ ê°ì²´ëŠ” ì •í™•ì„±ì„ ê¹¨ëœ¨ë¦¬ì§€ ì•Šìœ¼ë©´ì„œ í•˜ìœ„ íƒ€ì…ì˜ ì¸ìŠ¤í„´ìŠ¤ë¡œ ë°”ê¿€ ìˆ˜ ìˆì–´ì•¼ í•œë‹¤ëŠ” ì›ì¹™

   ì˜ˆë¥¼ ë“¤ì–´ ë™ë¬¼ì´ë¼ëŠ” í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ëŠ” ê³ ì–‘ì´ì™€ ê°•ì•„ì§€ í´ë˜ìŠ¤ê°€ ìˆë‹¤ê³  í•  ë•Œ ê³ ì–‘ì´ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ëŠ” ë™ë¬¼ ê°ì²´ ì°¸ì¡° ë³€ìˆ˜ì— ëŒ€ì…í•˜ë”ë¼ë„ ë™ë¬¼ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ì—­í• ì„ í•˜ëŠ” ë° ë¬¸ì œê°€ ì—†ì–´ì•¼í•¨

    ```java
    Animal cat1 = new Cat();
    ```

   ê·¸ëŸ¬ë‚˜ A í´ë˜ìŠ¤ê°€ B í´ë˜ìŠ¤ê°€ ê°€ì§„ ì—­í• ì„ ìˆ˜í–‰í•  ìˆ˜ ì—†ëŠ”ë°ë„, A í´ë˜ìŠ¤ê°€ B í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ë„ë¡ ì„¤ê³„í•œë‹¤ë©´ ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™ì„ ìœ„ë°°í•œ ê²ƒ. ì˜ˆë¥¼ ë“¤ì–´ Father í´ë˜ìŠ¤ì˜ ì—­í• ì„ Daughterê°€ í•  ìˆ˜ ì—†ëŠ”ë°ë„ Daughter í´ë˜ìŠ¤ê°€ Father í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ë„ë¡ ì„¤ê³„í•œ ê±´ ê°ì²´ì§€í–¥ì˜ ìƒì†ì„ ì˜ëª» ì ìš©í•˜ê³  ìˆìœ¼ë©°, ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™ì„ ìœ„ë°°í•œ ì‚¬ë¡€

    ```java
    Father jane = new Daughter();
    ```

   ì‰½ê²Œ ë§í•´ í•˜ìœ„ í´ë˜ìŠ¤ëŠ” ìƒìœ„ í´ë˜ìŠ¤ì˜ í•œ ì¢…ë¥˜ë¼ëŠ” ìƒì†ì˜ ê·œì¹™ì„ ì˜ ì§€í‚¤ê³  ìˆê³ , ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ê³  ìˆëŠ” êµ¬í˜„ í´ë˜ìŠ¤ê°€ ì¸í„°í˜ì´ìŠ¤ì˜ ê·œì•½ì„ ì „ë¶€ ì§€í‚¤ê³  ìˆë‹¤ë©´ ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™ì„ ì¤€ìˆ˜í•˜ê³  ìˆë‹¤ê³  íŒë‹¨

4. **ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬ ì›ì¹™(ISP, Interface Segregation Principle)**

   > Many client-specific interfaces are better than one general-purpose interface.
   >

   íŠ¹ì • í´ë¼ì´ì–¸íŠ¸ë¥¼ ìœ„í•œ ì¸í„°í˜ì´ìŠ¤ ì—¬ëŸ¬ ê°œê°€ ë²”ìš© ì¸í„°í˜ì´ìŠ¤ í•˜ë‚˜ë³´ë‹¤ ë‚«ë‹¤ëŠ” ì›ì¹™

   ![Untitled 5.png](images%2FUntitled%205.png)
   ì˜ˆë¥¼ ë“¤ì–´ Payment ì¸í„°í˜ì´ìŠ¤ë¥¼ Loan ì¸í„°í˜ì´ìŠ¤ì™€ Bank ì¸í„°í˜ì´ìŠ¤ë¡œ ë¶„ë¦¬í•œë‹¤ë©´ Bank ì¸í„°í˜ì´ìŠ¤ì— ìˆ˜ì •ì´ ë°œìƒí•´ë„ Loan í´ë¼ì´ì–¸íŠ¸ì—ê²ŒëŠ” ì˜í–¥ì„ ì£¼ì§€ ì•Šìœ¼ë©°, Loan í´ë¼ì´ì–¸íŠ¸ëŠ” Bank ì¸í„°í˜ì´ìŠ¤ê°€ ì•„ë‹Œ Loan ì¸í„°í˜ì´ìŠ¤ì— ìˆëŠ” ë©”ì„œë“œë“¤ê³¼ë§Œ ì˜ì¡´ ê´€ê³„ë¥¼ ë§ºìŒ. ë˜í•œ êµ¬í˜„ í´ë˜ìŠ¤ëŠ” í•œ ê°œì˜ ë²”ìš© ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš©ìœ¼ë¡œ ì¸í•œ ë¹„ì–´ìˆëŠ” ë©”ì„œë“œë“¤ì„ ê°€ì§ˆ í•„ìš”ê°€ ì—†ìŒ. ì´ì²˜ëŸ¼ ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬ ì›ì¹™ì„ ì ìš©í•œë‹¤ë©´ ì¸í„°í˜ì´ìŠ¤ê°€ ëª…í™•í•´ì§€ê³  ëŒ€ì²´ ê°€ëŠ¥ì„±ì´ ë†’ì•„ì§„ë‹¤ëŠ” ì¥ì ì´ ìˆìŒ

5. **ì˜ì¡´ê´€ê³„ ì—­ì „ ì›ì¹™(DIP, Dependency Inversion Principle)**

   > Depend upon abstractions, not concretions.
   >

   ì¶”ìƒí™”ì— ì˜ì¡´í•´ì•¼ì§€ êµ¬ì²´í™”ì— ì˜ì¡´í•˜ë©´ ì•ˆ ëœë‹¤ëŠ” ì›ì¹™

   ì˜ˆë¥¼ ë“¤ì–´ ìë™ì°¨ì™€ íƒ€ì´ì–´ì˜ ê´€ê³„ë¥¼ ìƒê°í•´ë³´ì. íƒ€ì´ì–´ëŠ” ì†Œëª¨í’ˆì´ê³ , ê³„ì ˆì— ë”°ë¼ êµì²´ë  ìˆ˜ ìˆìŒ. ë”°ë¼ì„œ ìë™ì°¨ì™€ íƒ€ì´ì–´ì˜ ê´€ê³„ë¥¼ ì„¤ì •í•  ë•Œ ìë™ì°¨ê°€ ìŠ¤ë…¸ìš°íƒ€ì´ì–´ë¼ëŠ” êµ¬ì²´ í´ë˜ìŠ¤ë¥¼ ì˜ì¡´í•˜ê²Œ í•˜ëŠ” ê²ƒë³´ë‹¨, ìŠ¤ë…¸ìš°íƒ€ì´ì–´, ì¼ë°˜íƒ€ì´ì–´, ê´‘í­ íƒ€ì´ì–´ê°€ êµ¬í˜„í•˜ê³  ìˆëŠ” íƒ€ì´ì–´ë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒˆë¡œ ì •ì˜í•˜ê³ , ìë™ì°¨ëŠ” íƒ€ì´ì–´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì˜ì¡´í•˜ê²Œ í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ. ì¸í„°í˜ì´ìŠ¤ê°€ ì•„ë‹Œ êµ¬í˜„ì²´ì— ì˜ì¡´í•˜ê²Œ ëœë‹¤ë©´ êµ¬í˜„ì²´ì˜ ìœ ì—°í•œ ë³€ê²½ì´ ì–´ë ¤ì›Œì§€ê¸° ë•Œë¬¸ì—, êµ¬í˜„ í´ë˜ìŠ¤ ë˜ëŠ” í•˜ìœ„ í´ë˜ìŠ¤ë³´ë‹¤ ë³€ê²½ ê°€ëŠ¥ì„±ì´ ë‚®ì€ ì¸í„°í˜ì´ìŠ¤, ì¶”ìƒ í´ë˜ìŠ¤, ìƒìœ„ í´ë˜ìŠ¤ì— ì˜ì¡´í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ

6. **SOLID ì •ë¦¬**

   > SRP : ì–´ë–¤ í´ë˜ìŠ¤ë¥¼ ë³€ê²½í•´ì•¼ í•˜ëŠ” ì´ìœ ëŠ” ì˜¤ì§ í•˜ë‚˜ë¿ì´ì–´ì•¼ í•œë‹¤.
   OCP : ìì‹ ì˜ í™•ì¥ì—ëŠ” ì—´ë ¤ ìˆê³ , ì£¼ë³€ì˜ ë³€í™”ì— ëŒ€í•´ì„œëŠ” ë‹«í˜€ ìˆì–´ì•¼ í•œë‹¤.
   LSP : ì„œë¸Œ íƒ€ì…ì€ ì–¸ì œë‚˜ ìì‹ ì˜ ê¸°ë°˜ íƒ€ì…ìœ¼ë¡œ êµì²´í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.
   ISP : í´ë¼ì´ì–¸íŠ¸ëŠ” ìì‹ ì´ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë©”ì„œë“œì— ì˜ì¡´ ê´€ê³„ë¥¼ ë§ºìœ¼ë©´ ì•ˆ ëœë‹¤.
   DIP : ìì‹ ë³´ë‹¤ ë³€í•˜ê¸° ì‰¬ìš´ ê²ƒì— ì˜ì¡´í•˜ì§€ ë§ˆë¼.
>

# í´ë¦°ì½”ë“œ í•µì‹¬ ìš”ì•½

1. ê°ì²´ì˜ ìƒì„±ì—ë„ ìœ ì˜ë¯¸í•œ ì´ë¦„ì„ ì‚¬ìš©í•˜ë¼

   ê°ì²´ì˜ ìƒì„±ìê°€ ì˜¤ë²„ë¡œë”©ë˜ëŠ” ê²½ìš° ì–´ë– í•œ ê°’ìœ¼ë¡œ ìƒì„±ë˜ëŠ”ì§€ ì •ë³´ê°€ ë¶€ì¡±í•  ìˆ˜ ìˆìŒ. ê·¸ëŸ¬ë¯€ë¡œ ì´ëŸ¬í•œ ê²½ìš°ì—ëŠ” [ì •ì  íŒ©í† ë¦¬ ë©”ì†Œë“œ](https://inpa.tistory.com/entry/GOF-%F0%9F%92%A0-%EC%A0%95%EC%A0%81-%ED%8C%A9%ED%86%A0%EB%A6%AC-%EB%A9%94%EC%84%9C%EB%93%9C-%EC%83%9D%EC%84%B1%EC%9E%90-%EB%8C%80%EC%8B%A0-%EC%82%AC%EC%9A%A9%ED%95%98%EC%9E%90)ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒë³´ë‹¤ ëª…í™•í•œ ì½”ë“œë¥¼ ì‘ì„±í•˜ê²Œ í•´ì¤„ ê²ƒì„. But êµ¬í˜„ì„ ë“œëŸ¬ë‚´ëŠ” ì´ë¦„ì€ í”¼í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ

    ```java
    // ë‘ ë²ˆì§¸ ì¸ìê°€ ë¬´ì—‡ì¸ì§€ íŒŒì•…ì´ ì–´ë µë‹¤.
    Product product = new Product("ì‚¬ê³¼", 10000);
    
    // ì´ë¦„ì„ ë¶€ì—¬í•˜ì—¬ ë‘ ë²ˆì§¸ ì¸ìë¥¼ ëª…í™•í•˜ê²Œ íŒŒì•…í•  ìˆ˜ ìˆë‹¤.
    // private ìƒì„±ìë¥¼ í†µí•´ 
    Product product = Product.withPrice("ì‚¬ê³¼", 10000);
    ```

2. í•¨ìˆ˜ëŠ” í•˜ë‚˜ì˜ ì—­í• ë§Œ í•´ì•¼í•œë‹¤
   ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒê³¼ ê°™ì€ Switch ë¬¸ì€ ì •ë§ í”íˆ ì‘ì„±í•˜ëŠ” ì½”ë“œì´ì§€ë§Œ, ë§ì€ ë¬¸ì œë¥¼ ë‚´í¬í•˜ê³  ìˆìŒ

    ```java
    public Money calculatePay(Employee e) throws InvalidEmployeeType {
      switch(e.type) {
        case COMMISSIONED:
          return calculateCommisionedPay(e);
        case HOURLY:
          return calculateHourlyPay(e);
        case SALARIED:
          return calculateSalariedPay(e);
        default:
          throw new InvalidEmployeeType(e.type);
      }
    }
    ```

   í•˜ì§€ë§Œ ìœ„ì˜ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œì  ëª©ë¡ì„ ê°€ì§€ê³  ìˆìŒ

    - í•¨ìˆ˜ê°€ ë„ˆë¬´ ê¸¸ë‹¤. ìƒˆë¡œìš´ ì§ì› íƒ€ì…ì´ ì¶”ê°€ë˜ë©´ ë” ê¸¸ì–´ì§ˆ ê²ƒì´ë‹¤.
    - í•œ ê°€ì§€ ì‘ì—…ë§Œì„ ìˆ˜í–‰í•˜ì§€ ì•ŠëŠ”ë‹¤. í•´ë”© ì§ì›ì´ ì–´ëŠ íƒ€ì…ì¸ì§€ í™•ì¸í•˜ê³  ìˆë‹¤.
    - SRPë¥¼ ìœ„ë°˜í•œë‹¤. ìƒˆë¡œìš´ ì§ì› íƒ€ì…ì´ ì¶”ê°€ë˜ì–´ë„ ì„ê¸ˆì„ ê³„ì‚°í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë³€ê²½í•´ì•¼ í•œë‹¤.
    - OCPë¥¼ ìœ„ë°˜í•œë‹¤. ìƒˆë¡œìš´ ì§ì› íƒ€ì…ì´ ì¶”ê°€ë˜ë©´ ìƒˆë¡œìš´ ì„ê¸ˆ ê³„ì‚° ë¡œì§ì„ ìœ„í•˜ ì½”ë“œë¥¼ ë³€ê²½í•´ì•¼ í•œë‹¤.
    - ìœ ì‚¬í•œ í•¨ìˆ˜ê°€ ê³„ì† íŒŒìƒë  ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ì§ì›ì˜ íƒ€ì…ì— ë”°ë¥¸ ì½”ë“œëŠ” ë‹¤ë¥¸ ê³³ì— ì¤‘ì²©ë  ìˆ˜ ìˆë‹¤.

    ```java
    public abstract class Employee {
        public abstract int calculatePay();
        public abstract void deliverPay();
    }
    
    public class EmployeeFactory {
    
        public Employee makeEmployee(EmployeeRecord r) throws InvalidEmployeeType {
            switch (r.type) {
                case COMMISSIONED:
                    return new CommissionedEmployee(r);
                case HOURLY:
                    return HourlyEmployee(r);
                case SALARIED:
                    return SalariedEmployee(r);
                default:
                    throw new InvalidEmployeeType(r.type);
            }
        }
    }
    // ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ Employeeë¥¼ ì¶”ìƒí´ë˜ìŠ¤ë¡œ ë§Œë“¤ê³ , ì§ì› ìœ í˜•ì— ë”°ë¥¸ í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ ì„ ì–¸
    // ë¬¼ë¡  í•˜ìœ„ ê°ì²´ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ switchë¬¸ì€ ë¶ˆê°€í”¼í•¨. í•˜ì§€ë§Œ ê·¸ë˜ë„ ìœ ì‚¬í•œ í•¨ìˆ˜ë§ˆë‹¤ ë¶„ê¸°í•´ì£¼ëŠ” ê²ƒì„
    // ì²˜ë¦¬í•´ì¤„ ìˆ˜ ìˆìœ¼ë©°, ìœ„ì˜ ë¬¸ì œì  ì¤‘ ìƒë‹¹ìˆ˜ë¥¼ í•´ê²°í•  ìˆ˜ ìˆì„ ê²ƒì„
    ```

3. ëª…ë ¹ê³¼ ì¡°íšŒë¥¼ ë¶„ë¦¬í•˜ë¼(Command ì™€ Query ì˜ ë¶„ë¦¬)

   í•¨ìˆ˜ëŠ” ë­”ê°€ë¥¼ ìˆ˜í–‰í•˜ê±°ë‚˜ ë­”ê°€ë¥¼ ì¡°íšŒí•˜ê±°ë‚˜ í•˜ë‚˜ì˜ ì—­í• ë§Œì„ í•´ì•¼í•¨. ë‘ ê°œì˜ ì—­í• ì„ ë™ì‹œì— í•˜ë©´ ì´ìƒí•œ í•¨ìˆ˜ê°€ íƒ„ìƒí•¨. ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒê³¼ ê°™ì´ keyê°’ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•˜ê³ , ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ì—¬ ì„±ê³µí•˜ë©´ true ì‹¤íŒ¨í•˜ë©´ falseë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ê°€ ìˆë‹¤ê³  í•˜ì.

    ```java
    public boolean set(String attribute, String value);
    
    if(set("username", "Seungmin")) {}
    ```

   ì´ í•¨ìˆ˜ê°€ keyê°€ ì¡´ì¬í•˜ëŠ” ê²½ìš° overwriteí•˜ëŠ”ì§€ í˜¹ì€ ì¡´ì¬í•˜ì§€ ì•Šì„ ê²½ìš°ì—ë§Œ ì—…ë°ì´íŠ¸ í•˜ëŠ”ì§€ ë“± ìì„¸í•œ ë‚´ìš©ì„ ì•Œ ìˆ˜ ì—†ì„ ê²ƒ. ê·¸ ì´ìœ ëŠ” ìœ„ì˜ í•¨ìˆ˜ê°€ ëª…ë ¹ê³¼ ì¡°íšŒë¥¼ í•œë²ˆì— ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ìœ„ì˜ í•¨ìˆ˜ë¥¼ ë¶„ë¦¬í•˜ì—¬ ë‹¤ìŒì™€ ê°™ì´ ì‘ì„±í•´ì£¼ëŠ” ê²ƒì´ ëª…í™•í•¨

    ```java
    public boolean attributeExists(String attribute);
    public boolean setAttribute(String attribute, String value);
    
    if(attributeExists("username")) {
        setAttribute("username", "Seungmin");
    }
    ```

4. ì˜¤ë¥˜ì½”ë“œë³´ë‹¤ëŠ” ì˜ˆì™¸ë¥¼ í™œìš©í•˜ì

    ```java
    public Status deletePage(Page page) {
        if(deletePage(page) == E_OK) {
            if(registry.deleteReference(page.name) == E_OK) {
                if(configKeys.deleteKey(page.name.makeKey()) == E_OK) {
                    log.info("page deleted");
                    return E_OK;
                } else {
                    log.error("config key not deleted");
                }
            } else {
                log.error("reference not deleted");
            }
        } else {
            log.error("page not deleted");
        }
        return E_ERROR;
    }
    ```

   ì˜¤ë¥˜ì½”ë“œë¥¼ ë°˜í™˜í•˜ë©´ ê·¸ì— ë”°ë¥¸ ë¶„ê¸°ê°€ ì¼ì–´ë‚˜ê²Œ ë˜ê³ , ë˜ ë¶„ê¸°ê°€ í•„ìš”í•œ ê²½ìš° ì¤‘ì²©ë˜ê¸° ë§ˆë ¨ â†’ ë”°ë¼ì„œ ê°ê°ì˜ í•¨ìˆ˜ì—ì„œ ì˜ˆì™¸ë¥¼ ë°œìƒì‹œì¼œ ì¡ì•„ ì½”ë“œë¥¼ ê°„ê²°í•˜ê²Œ ì‘ì„±í•˜ì

    ```java
    public void deletePage(Page page) {
        try {
            deletePageAndAllReferences(page);
        } catch (Exception e) {
            log.error(e.getMessage());
        }
    }
    
    public void deletePageAndAllReferences(Page page) throws Exception {
        deletePage(page);
        registry.deleteReference(page.name);
        configKeys.deleteKey(page.name.makeKey());
    }
    ```

5. ì—¬ëŸ¬ ì˜ˆì™¸ê°€ ë°œìƒí•˜ëŠ” ê²½ìš° Wrapper í´ë˜ìŠ¤ë¡œ ê°ì‹¸ì

   ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•˜ë©´ ë‹¤ì–‘í•œ ì˜ˆì™¸ í´ë˜ìŠ¤ë¥¼ ë§ˆì£¼í•˜ê²Œ ë¨. ê·¸ë¦¬ê³  ì´ëŸ¬í•œ ì˜ˆì™¸ë“¤ì„ ì²˜ë¦¬í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ìƒë‹¹íˆ ë²ˆê±°ë¡œì›Œì§

    ```java
    ACMEPort port = new ACMEPort(12);
    try {
        port.open();
    } catch (DeviceResponseException e) {
        log.error(e.getMessage());
    } catch (ATM1212UnlockedException e) {
        log.error(e.getMessage());
    } catch (GMXError e) {
        log.error(e.getMessage());
    } finally {
        ...
    }
    ```

   ì´ëŸ¬í•œ ìƒí™©ì—ì„œ Wrapper í´ë˜ìŠ¤ë¥¼ ì´ìš©í•´ ê°ì‹¸ë©´ íš¨ìœ¨ì ìœ¼ë¡œ ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ìˆìŒ

    ```java
    LocalPort port = new LocalPort(12);
    try {
        port.open();
    } catch (PortDeviceFailure e) {
        log.error(e.getMessage());
    } finally {
        ...
    }
    
    public class LocalPort {
    
        private ACMEPort innerPort;
    
        public LocalPort(int portNumber) {
            this.innerPort = new ACMEPort(portNumber);
        }
    
        public void open() {
            try {
                innerPort.open();
            } catch (DeviceResponseException e) {
                throw new PortDeviceFailure(e);
            } catch (ATM1212UnlockedException e) {
                throw new PortDeviceFailure(e);
            } catch (GMXError e) {
                throw new PortDeviceFailure(e);
            }
        }
    }
    ```

6. í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ì‘ì„±
7. í´ë˜ìŠ¤ì˜ ìµœì†Œí™”

   í´ë˜ìŠ¤ ì—­ì‹œ í•¨ìˆ˜ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ê°„ê²°í•˜ê²Œ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì¤‘ìš”. í•¨ìˆ˜ëŠ” ë¬¼ë¦¬ì  í¬ê¸°ë¥¼ ì¸¡ì •í–ˆë‹¤ë©´ í´ë˜ìŠ¤ëŠ” ëª‡ê°œì˜ ì—­í•  ë˜ëŠ” ì±…ì„ì„ ê°–ëŠ”ì§€ë¥¼ ì²™ë„ë¡œ í™œìš©í•˜ë©°, ë‹¨ì¼ ì±…ì„ ì›ì¹™ì— ë”°ë¼ 1ê°€ì§€ ì±…ì„ë§Œì„ ê°€ì ¸ì•¼í•¨

8. í´ë˜ìŠ¤ì˜ ì‘ì§‘ë„
9. ë³€ê²½í•˜ê¸° ì‰¬ìš´ í´ë˜ìŠ¤

   ìš”êµ¬ì‚¬í•­ì€ ìˆ˜ì‹œë¡œ ë³€í•˜ê¸° ë•Œë¬¸ì—, ë³€ê²½í•˜ê¸° ì‰¬ìš´ í´ë˜ìŠ¤ë¥¼ ë§Œë“œëŠ” ê²ƒì´ ì¤‘ìš”. ë³€ê²½í•˜ê¸° ì‰¬ìš´ í´ë˜ìŠ¤ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë‹¨ì¼ ì±…ì„ ì›ì¹™ì„ ì§€ì¼œì•¼í•¨. ë˜í•œ êµ¬í˜„ì²´ ë³´ë‹¤ëŠ” ì¶”ìƒì²´ì— ì˜ì¡´í•˜ì—¬ì•¼í•˜ê³  ê²°êµ­ í•µì‹¬ì€ ë‹¤í˜•ì„±ì„

    ```java
    abstract public class SQL {
        public SQL(String table, Column[] columns)
        abstract public String generate();
    }
    
    public class CreateSQL extends SQL {
        public CreateSQL(String table, Column[] columns)
        @Override public String generate()
    }
    
    public class SelectSQL extends SQL {
        public SelectSQL(String table, Column[] columns)
        @Override public String generate()
    }
    ```

10. ì„¤ê³„ í’ˆì§ˆì„ ë†’ì—¬ì£¼ëŠ” 4ê°€ì§€ ê·œì¹™
    - ëª¨ë“  í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ë¼: í…ŒìŠ¤íŠ¸ê°€ ì‰¬ìš´ ì½”ë“œë¥¼ ì‘ì„±í•˜ë‹¤ ë³´ë©´ SRPë¥¼ ì¤€ìˆ˜í•˜ê³ , ë” ë‚®ì€ ê²°í•©ë„ë¥¼ ê°–ëŠ” ì„¤ê³„ë¥¼ ì–»ì„ ìˆ˜ ìˆìŒ
    - ì¤‘ë³µì„ ì œê±°í•˜ë¼: ê¹”ë”í•œ ì‹œìŠ¤í…œì„ ë§Œë“¤ê¸° ìœ„í•´ ë‹¨ ëª‡ ì¤„ì´ë¼ë„ ì¤‘ë³µì„ ì œê±°í•´ì•¼í•¨
    - í”„ë¡œê·¸ë˜ë¨¸ì˜ ì˜ë„ë¥¼ í‘œí˜„í•˜ë¼: ì¢‹ì€ ì´ë¦„, ì‘ì€ í´ë˜ìŠ¤ì™€ ë©”ì†Œë“œì˜ í¬ê¸°, í‘œì¤€ ëª…ì¹­, ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„± ë“±ì„ í†µí•´ ì´ë¥¼ ë‹¬ì„±í•  ìˆ˜ ìˆìŒ
    - í´ë˜ìŠ¤ì™€ ë©”ì†Œë“œì˜ ìˆ˜ë¥¼ ìµœì†Œë¡œ ì¤„ì—¬ë¼: í´ë˜ìŠ¤ì™€ ë©”ì†Œë“œë¥¼ ì‘ê²Œ ìœ ì§€í•¨ìœ¼ë¡œì¨ ì‹œìŠ¤í…œ í¬ê¸° ì—­ì‹œ ì‘ê²Œ ìœ ì§€í•  ìˆ˜ ìˆìŒ
11. ë””ë¯¸í„° ë²•ì¹™

    ë””ë¯¸í„°ì˜ ë²•ì¹™ì€ ì–´ë–¤ ëª¨ë“ˆì´ í˜¸ì¶œí•˜ëŠ” ê°ì²´ì˜ ì†ì‚¬ì •ì„ ëª°ë¼ì•¼ í•˜ë‹¤ëŠ” ê²ƒ. ê·¸ë ‡ê¸°ì— ê°ì²´ëŠ” ìë£Œë¥¼ ìˆ¨ê¸°ê³  í•¨ìˆ˜ë¥¼ ê³µê°œí•´ì•¼í•¨. ë§Œì•½ ìë£Œë¥¼ ê·¸ëŒ€ë¡œ ë…¸ì¶œí•˜ë©´ ë‚´ë¶€ êµ¬ì¡°ê°€ ë“œëŸ¬ë‚˜ ê²°í•©ë„ê°€ ë†’ì•„ì§

    ```java
    final String outputDir = FileManager.getInstance().getOptions().getModule().getAbsolutePath();
    ```

    ì´ ì½”ë“œëŠ” ì§€ë‚˜ì¹˜ê²Œ ê°ì²´ì˜ ì†ì‚¬ì •ì— ê¹Šì´ ê´€ì—¬í•˜ê³  ìˆìŒ. ë”°ë¼ì„œ ìœ„ì™€ ê°™ì€ ì½”ë“œë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë‚˜ëˆ ì•¼í•¨

    ```java
    Options options = ctxt.getOptions();
    File scratchDir = opts.getScratchDir();
    final String outputDir = scratchDir.getAbsolutePath();
    ```

    ê·¸ë¦¬ê³  ë§Œì•½ ìœ„ì˜ í´ë˜ìŠ¤ë“¤ì¸ ìë£Œ êµ¬ì¡°ë¼ë©´ ê´œì°®ì§€ë§Œ ê°ì²´ë¼ë©´ ë‚´ë¶€ êµ¬ì¡°ë¥¼ ìˆ¨ê²¨ì•¼ í•˜ë¯€ë¡œ í•œë²ˆ ë” ìˆ˜ì •ì„ í•´ì£¼ì–´ì•¼í•¨. ì ˆëŒ€ ê²½ë¡œë¥¼ ì–»ëŠ” ì´ìœ ëŠ” ì„ì‹œ íŒŒì¼ì„ ìƒì„±í•˜ê¸° ìœ„í•¨ì´ê¸°ì— ìœ„ì˜ ì½”ë“œë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì„ì‹œ íŒŒì¼ì„ ìƒì„±í•˜ë¼ëŠ” ë©”ì„¸ì§€ë¥¼ ë³´ë‚´ëŠ” ê²ƒì´ ì¢‹ìŒ

    ```java
    BufferedOutputStream bos = ctxt.createScartchFileStream(classFileName);
    ```

    ì¦‰, ë°ì´í„°ê°€ ì•„ë‹Œ ê°ì²´ë¥¼ ì°¸ê³ í•  ë•Œ ì—¬ëŸ¬ ë²ˆì˜ .ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, ê°ì²´ì—ê²Œ ë©”ì„¸ì§€ë¥¼ ë³´ë‚´ë„ë¡ ë³€ê²½í•˜ì.